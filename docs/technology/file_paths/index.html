<!DOCTYPE html>
<html lang="en" class="govuk-template "><head>
  <meta charset="utf-8">
  
  
  <title>Analytical Coding Guide | File paths</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#0b0c0c">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  

  
  <link href="https://co-analysis.github.io/coding-guide/css/govuk-frontend-3.10.2.min.css" rel="stylesheet">
  

  

  <link href="https://co-analysis.github.io/coding-guide/css/dashboard-layout.css" rel="stylesheet">

  
  <link href="https://co-analysis.github.io/coding-guide/css/font-override.css" rel="stylesheet">
  

  
  <link href="https://co-analysis.github.io/coding-guide/css/syntax.css" rel="stylesheet">

  <meta property="og:image" content="/assets/images/govuk-opengraph-image.png">

</head><body class="govuk-template__body js-enabled"><script>
    document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');

</script>

<a href="#main-content" class="govuk-skip-link">Skip to main content</a>

<header class="govuk-header " role="banner" data-module="govuk-header">
    <div class="govuk-header__container govuk-width-container">

        <div class="govuk-header__logo">
            <a href="https://co-analysis.github.io/coding-guide/" class="govuk-header__link govuk-header__link--homepage">

                <span class="govuk-header__logotype">
                    

                    <span class="govuk-header__logotype-text">
                        ACG
                    </span>


                </span>

                <span class="govuk-header__product-name">
                    
                    Analytical Coding Guide
                    
            </a>
            </span>
        </div>

        <div class="govuk-header__product-name">

        </div>

    </div>
</header>


<div class="govuk-width-container">
    <div class="govuk-phase-banner">
        <p class="govuk-phase-banner__content">
            <strong class="govuk-tag govuk-phase-banner__content__tag">
                alpha
            </strong>
            <span class="govuk-phase-banner__text">
                This is a new service – your <a class="govuk-link" href="https://github.com/co-analysis/coding-guide/issues/">feedback</a>
                will
                help us to improve it.
            </span>
        </p>
    </div>
</div>
<div class="govuk-width-container ">
        <main class="govuk-main-wrapper " id="main-content" role="main">
            <div class="dashboard-container">

                <div class="dashboard-nav">
<nav class="sidebar-nav">

        
        

        <ul class="govuk-list">

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/workflow/">1. Workflow</a>
                </li>
                

                

                
                <li class="nav-item"><a
                                class="govuk-!-font-size-14 govuk-link govuk-link--no-visited-state"
                                href="https://co-analysis.github.io/coding-guide/workflow/projects/">Project containers</a></li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/code_style/">2. Code style</a>
                </li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/output/">3. Output style</a>
                </li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/functions/">3. Writing functions &amp; packages</a>
                </li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/version_control/">4. Version control</a>
                </li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/assurance/">5. Assurance</a>
                </li>
                

                

                
                <li class="nav-item"><a
                                class="govuk-!-font-size-14 govuk-link govuk-link--no-visited-state"
                                href="https://co-analysis.github.io/coding-guide/assurance/code_review/">Code review</a></li>
                

                

                
                <li class="nav-item"><a
                                class="govuk-!-font-size-14 govuk-link govuk-link--no-visited-state"
                                href="https://co-analysis.github.io/coding-guide/assurance/qa/">Quality assurance</a></li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/technology/">6. Technology</a>
                </li>
                

                

                
                <li class="nav-item nav-active-item"><a
                                class="govuk-!-font-size-14 govuk-link govuk-link--no-visited-state "
                                href="https://co-analysis.github.io/coding-guide/technology/file_paths/">File paths</a></li>
                

                

                
                <li class="nav-item"><a
                                class="govuk-!-font-size-14 govuk-link govuk-link--no-visited-state"
                                href="https://co-analysis.github.io/coding-guide/technology/install_packges/">Installing packages, libraries &amp; extensions</a></li>
                

                

                
                <li class="nav-item"><a
                                class="govuk-!-font-size-14 govuk-link govuk-link--no-visited-state"
                                href="https://co-analysis.github.io/coding-guide/technology/install_software/">Installing software</a></li>
                

                

                

                
                <li class="nav-section "><a class="govuk-!-font-size-14" href="https://co-analysis.github.io/coding-guide/reference/">7. Learning and reference materials</a>
                </li>
                

                

                

        </ul>

        
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible" />
        

        <ul class="govuk-list nav-extra">

                
                <li class="nav-item"><a
                                class="govuk-body-s govuk-!-font-size-14 govuk-link govuk-link--no-visited-state nav-link"
                                href="https://co-analysis.github.io/coding-guide/about/">About this guide</a></li>
                

                </a>

        </ul>
        

</nav></div>
                <div class="dashboard-content">
<h1 class="govuk-heading-xl">File paths</h1>

<div class="govuk-body">

    <p>A key benefit of using <a href="https://co-analysis.github.io/coding-guide/workflow/projects/">project containers</a> in analysis is to enable cross-team collaboration. However, this can easily become troublesome if you have not thought carefully about file paths. Cabinet Office IT provides both Mac and Windows devices. Most data for analysis is stored on a network file store or in Google Drive. Not only do the way file systems mount vary between operating systems, different individuals may mount at different points in the folder structure or in the case of windows to different drive letters.</p>
<h2 id="file-path-problems">File path problems</h2>
<p>Consider the following theoretical folder path:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">//FILESTORE/SHARE/ANALYSIS/FOLDER1/DATA
</code></pre></td></tr></table>
</div>
</div><p>Someone on a Mac might mount the <code>ANALYSIS</code> folder and their file path to the <code>DATA</code> folder:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">/Volumes/ANALYSIS/FOLDER1/DATA
</code></pre></td></tr></table>
</div>
</div><p>Sometimes Macs will re-mount the folder if the network connection is lost giving the following path:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">/Volumes/ANALYSIS-1/FOLDER1/DATA
</code></pre></td></tr></table>
</div>
</div><p>One Windows user might also mount at the <code>ANALYSIS</code> folder and allocate this to the <code>X:</code> drive, in which case their path to the <code>DATA</code> folder is:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">X:\FOLDER1\DATA
</code></pre></td></tr></table>
</div>
</div><p>Another Windows user has mounted <code>FOLDER1</code> as the <code>T:</code> drive, and so their path is:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">T:\DATA
</code></pre></td></tr></table>
</div>
</div><p>While another Windows user has mounted the <code>DATA</code> folder to the <code>T:</code> drive, and so their path to the folder is simply:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">T:\
</code></pre></td></tr></table>
</div>
</div><h2 id="strategies-for-managing-file-paths">Strategies for managing file paths</h2>
<p>You should not use explicit file paths to network drives in your code. These make it hard for others to easily execute your code.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">data</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="s">&#34;X:\PATH\TO\PROJECT\FILE.csv&#34;</span><span class="p">)</span>
<span class="n">data2</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="s">&#34;X:\PATH\TO\PROJECT\FILE2.csv&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Instead you should use relative paths, by specifying a folder as a variable and referring to that in future lines calling files. This allows others to quickly and easily change the folder reference as needed. You should use the forward-slash, <code>/</code>, to denote folder structures since Windows can process both forward-slash and back-slash as the folder delimiter.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">folder_path</span> <span class="o">&lt;-</span> <span class="s">&#34;X:/PATH/TO/PROJECT&#34;</span>
<span class="n">data</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s">&#34;/FILE.CSV&#34;</span><span class="p">))</span>
<span class="n">data2</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="nf">paste0</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s">&#34;/FILE2.CSV&#34;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><p>Within R you can also use the <code>file.path()</code> function to construct file paths:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">folder_path</span> <span class="o">&lt;-</span> <span class="s">&#34;X:/PATH/TO/PROJECT&#34;</span>
<span class="n">data</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="nf">file.path</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s">&#34;/FILE.CSV&#34;</span><span class="p">))</span>
<span class="n">data2</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="nf">file.path</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s">&#34;/FILE2.CSV&#34;</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><p>If using RStudio you can also use interactive file and directory functions to set paths</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-r" data-lang="r"><span class="n">folder_path</span> <span class="o">&lt;-</span> <span class="n">rstudioapi</span><span class="o">::</span><span class="nf">selectDirectory</span><span class="p">()</span>
<span class="n">data</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="nf">file.path</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s">&#34;/FILE.CSV&#34;</span><span class="p">))</span>

<span class="n">file_path</span> <span class="o">&lt;-</span> <span class="n">rstudioapi</span><span class="o">::</span><span class="nf">selectFile</span><span class="p">()</span>
<span class="n">data2</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="google-drive-files">Google Drive files</h2>
<p>For security reasons you cannot programmatically access any Cabinet Office files stored in Google Drive via Google&rsquo;s APIs. You can use Google File Stream which maps Google Drive as network drive, however caution should be taken. Usually the best solution for working with files stored in Google Drive is to download them as CSV files and store them locally on your machine. Remember to follow the advice about using a <code>.gitignore</code> to ensure you do not accidentally commit data to a remote repository.</p>


</div>



                </div>

            </div>
        </main>
    </div><footer class="govuk-footer " role="contentinfo">
    <div class="govuk-width-container ">
        <div class="govuk-footer__meta">
            <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

                <svg aria-hidden="true" focusable="false" class="govuk-footer__licence-logo"
                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.2 195.7" height="17" width="41">
                    <path fill="currentColor"
                        d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145" />
                </svg>
                <span class="govuk-footer__licence-description">
                    All content is available under the
                    <a class="govuk-footer__link"
                        href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
                        rel="license">Open Government Licence v3.0</a>, except where otherwise stated
                </span>
            </div>
            <div class="govuk-footer__meta-item">
                <a style="background-image:url(https://co-analysis.github.io/coding-guide/assets/images/govuk-crest.png);"
                    class="govuk-footer__link govuk-footer__copyright-logo"
                    href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/">©
                    Crown copyright </a>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript">

    function applyGOVUK(tag, govuk_class) {
        var elements = document.getElementsByTagName(tag)

        var i;
        for (i = 0; i < elements.length; i++) {
            elements[i].classList.add(govuk_class);
        };

    };

    applyGOVUK("TABLE", "govuk-table");
    applyGOVUK("TR", "govuk-table__row");
    applyGOVUK("TD", "govuk-table__cell");
    applyGOVUK("THEAD", "govuk-table__head");
    applyGOVUK("TH", "govuk-table__header");
    applyGOVUK("BLOCKQUOTE", "govuk-inset-text");

</script></body>

</html>